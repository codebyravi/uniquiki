/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/* tslint:disable:prefer-object-spread */
import { BehaviorSubject } from 'rxjs';
import { refreshChildren } from './utils/refresh-children';
/**
 * stores routes states at the same level
 * @type {?}
 */
export const hub = new BehaviorSubject(null);
/**
 * Detects and handles children routes
 * @type {?}
 */
const entitify = (/**
 * @template R, C
 * @param {?} routes
 * @return {?}
 */
(routes) => Object.keys(routes).reduce((/**
 * @param {?} acc
 * @param {?} routeName
 * @return {?}
 */
(acc, routeName) => routes[routeName].children
    ? Object.assign({}, acc, refreshChildren(routes[routeName]))
    : Object.assign({}, acc, { [routeName]: routes[routeName] })), (/** @type {?} */ ({}))));
const ɵ0 = entitify;
/**
 * Returns the next hub value
 * @template R, C
 * @param {?} routeName
 * @param {?} routes
 * @return {?}
 */
export function nextHubValue(routeName, routes) {
    /** @type {?} */
    const slice = entitify(routes);
    return (/** @type {?} */ (Object.assign({}, hub.value, {
        [routeName]: slice
    })));
}
export { ɵ0 };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHViLmpzIiwic291cmNlUm9vdCI6Im5nOi8vcm91dGVzaHViLyIsInNvdXJjZXMiOlsiaHViLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ0EsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUV2QyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7Ozs7O0FBSzNELE1BQU0sT0FBTyxHQUFHLEdBQThCLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQzs7Ozs7TUFLakUsUUFBUTs7Ozs7QUFBRyxDQUFPLE1BQWdCLEVBQWUsRUFBRSxDQUN2RCxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU07Ozs7O0FBQ3hCLENBQUMsR0FBZ0IsRUFBRSxTQUFpQixFQUFlLEVBQUUsQ0FDbkQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFFBQVE7SUFDeEIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxlQUFlLENBQU8sTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDbEUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsU0FBUyxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsR0FDaEUsbUJBQUEsRUFBRSxFQUFlLENBQ2xCLENBQUE7Ozs7Ozs7OztBQUtILE1BQU0sVUFBVSxZQUFZLENBQzFCLFNBQWlCLEVBQ2pCLE1BQWdCOztVQUVWLEtBQUssR0FBYSxRQUFRLENBQU8sTUFBTSxDQUFDO0lBRTlDLE9BQU8sbUJBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLEtBQUssRUFBRTtRQUNsQyxDQUFDLFNBQVMsQ0FBQyxFQUFFLEtBQUs7S0FDbkIsQ0FBQyxFQUFvQixDQUFDO0FBQ3pCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpwcmVmZXItb2JqZWN0LXNwcmVhZCAqL1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBIdWIsIFNsaWNlIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IHJlZnJlc2hDaGlsZHJlbiB9IGZyb20gJy4vdXRpbHMvcmVmcmVzaC1jaGlsZHJlbic7XG5cbi8qKlxuICogc3RvcmVzIHJvdXRlcyBzdGF0ZXMgYXQgdGhlIHNhbWUgbGV2ZWxcbiAqL1xuZXhwb3J0IGNvbnN0IGh1YjogQmVoYXZpb3JTdWJqZWN0PEh1Yjxhbnk+PiA9IG5ldyBCZWhhdmlvclN1YmplY3QobnVsbCk7XG5cbi8qKlxuICogRGV0ZWN0cyBhbmQgaGFuZGxlcyBjaGlsZHJlbiByb3V0ZXNcbiAqL1xuY29uc3QgZW50aXRpZnkgPSA8UiwgQz4ocm91dGVzOiBTbGljZTxSPik6IFNsaWNlPFIsIEM+ID0+XG4gIE9iamVjdC5rZXlzKHJvdXRlcykucmVkdWNlKFxuICAgIChhY2M6IFNsaWNlPFIsIEM+LCByb3V0ZU5hbWU6IHN0cmluZyk6IFNsaWNlPFIsIEM+ID0+XG4gICAgICByb3V0ZXNbcm91dGVOYW1lXS5jaGlsZHJlblxuICAgICAgICA/IE9iamVjdC5hc3NpZ24oe30sIGFjYywgcmVmcmVzaENoaWxkcmVuPFIsIEM+KHJvdXRlc1tyb3V0ZU5hbWVdKSlcbiAgICAgICAgOiBPYmplY3QuYXNzaWduKHt9LCBhY2MsIHsgW3JvdXRlTmFtZV06IHJvdXRlc1tyb3V0ZU5hbWVdIH0pLFxuICAgIHt9IGFzIFNsaWNlPFIsIEM+XG4gICk7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbmV4dCBodWIgdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5leHRIdWJWYWx1ZTxSLCBDID0ge30+KFxuICByb3V0ZU5hbWU6IHN0cmluZyxcbiAgcm91dGVzOiBTbGljZTxSPlxuKTogSHViPFNsaWNlPFIsIEM+PiB7XG4gIGNvbnN0IHNsaWNlOiBTbGljZTxSPiA9IGVudGl0aWZ5PFIsIEM+KHJvdXRlcyk7XG5cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGh1Yi52YWx1ZSwge1xuICAgIFtyb3V0ZU5hbWVdOiBzbGljZVxuICB9KSBhcyBIdWI8U2xpY2U8UiwgQz4+O1xufVxuIl19